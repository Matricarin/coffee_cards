# üìå –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ MVP Coffee Cards (Backend)

## üóì –û–±—â–∏–π –ø–ª–∞–Ω –Ω–∞ 3 –Ω–µ–¥–µ–ª–∏

---

## ‚úÖ –ù–µ–¥–µ–ª—è 1. –°—Ç–∞—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞
**–¶–µ–ª—å:** –ø–æ–¥–Ω—è—Ç—å –±–∞–∑—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π API.  

1. –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (GitHub/GitLab).  
   - –ó–∞–≤–µ—Å—Ç–∏ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É (`Api`, `Domain`, `Application`, `Infrastructure`).  
   - –î–æ–±–∞–≤–∏—Ç—å `.editorconfig`, `.gitignore`, README.  

2. –ü–æ–¥–Ω—è—Ç—å ASP.NET Core Web API.  
   - `dotnet new webapi -n CoffeeCards.Api`.  
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `Program.cs` –¥–ª—è Swagger + JWT (–ø—É—Å—Ç—ã—à–∫–∞).  
   - –°–¥–µ–ª–∞—Ç—å endpoint `/health` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `OK`).  

3. –ü–æ–¥–Ω—è—Ç—å PostgreSQL –≤ Docker.  
   - `docker-compose.yml` —Å API + PostgreSQL.  
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å EF Core (code-first).  
   - –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é (`InitialCreate`).  

4. –û–ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –≤ Domain.  
   - `User` (Id, Email, PasswordHash).  
   - `CoffeeShop` (Id, Name, LogoUrl).  
   - `Branch` (Id, Address, CoffeeShopId).  
   - `Card` (Id, Title, DiscountType, Conditions, CoffeeShopId).  
   - `Wallet` (UserId, CardId, Status).  

5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Auth (MVP).  
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.  
   - –õ–æ–≥–∏–Ω —Å JWT.  
   - Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.  

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:**  
- API —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ.  
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è/–∑–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è.  
- Swagger –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.  

---

## ‚úÖ –ù–µ–¥–µ–ª—è 2. –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª MVP
**–¶–µ–ª—å:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏.  

1. API –¥–ª—è –∫–æ—Ñ–µ–µ–Ω (`CoffeeShopController`).  
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ñ–µ–π–Ω–∏.  
   - CRUD –¥–ª—è —Ñ–∏–ª–∏–∞–ª–æ–≤.  

2. API –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ (`CardController`).  
   - –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏.  
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫.  

3. API –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ (`WalletController`).  
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –∫–æ—à–µ–ª—ë–∫.  
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—à–µ–ª—å–∫–∞.  

4. –¢–µ—Å—Ç—ã (xUnit).  
   - –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.  
   - –¢–µ—Å—Ç –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –∫–æ—à–µ–ª—ë–∫.  

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:**  
- –ö–æ—Ñ–µ–π–Ω—è –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É.  
- –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –≤ –∫–æ—à–µ–ª—ë–∫.  
- –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL.  
- –ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã.  

---

## ‚úÖ –ù–µ–¥–µ–ª—è 3. –î–æ—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
**–¶–µ–ª—å:** —Å–¥–µ–ª–∞—Ç—å MVP ‚Äú–∂–∏–≤—ã–º‚Äù –∏ –≥–æ—Ç–æ–≤—ã–º –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏.  

1. –î–æ–±–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∫–∞—Ä—Ç–æ—á–µ–∫.  
   - –ü—Ä–æ—Å—Ç–µ–π—à–∏–µ –ø—Ä–∞–≤–∏–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: ‚Äú5 –ø–æ–∫—É–ø–æ–∫ = —Å–∫–∏–¥–∫–∞ 10%‚Äù).  
   - –§–∏–∫—Å–∞—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ (`TransactionController`).  

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.  
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —É –∫–æ—Ñ–µ–π–Ω–∏.  
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫.  

3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.  
   - –ü–æ–¥–∫–ª—é—á–∏—Ç—å Serilog (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª).  
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –∑–∞–ø—Ä–æ—Å—ã.  

4. Docker & CI/CD (—Å DevOps –¥—Ä—É–≥–æ–º).  
   - –ê–≤—Ç–æ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏ –ø—É—à–µ –≤ main.  
   - –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ docker-compose).  

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–¥–µ–ª–∏:**  
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ API.  
- –ö–ª–∏–µ–Ω—Ç ‚Üí —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É ‚Üí –¥–µ–ª–∞–µ—Ç –ø–æ–∫—É–ø–∫—É ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è.  
- –ö–æ—Ñ–µ–π–Ω—è ‚Üí –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.  
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä—É—Ç–∏—Ç—Å—è –≤ Docker.  

---

# üìä –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 3 –Ω–µ–¥–µ–ª–∏
- –ì–æ—Ç–æ–≤—ã–π **MVP backend** —Å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.  
- –ú–æ–∂–Ω–æ –æ—Ç–¥–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä—É (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏).  
- –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –¥–µ–º–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –∫–æ—Ñ–µ–π–Ω—è–º.  
- –¢—ã –ø–æ–ª—É—á–∞–µ—à—å **–æ–ø—ã—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ø–ª–æ—è**.  

---


# –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –≤–æ–ø—Ä–æ—Å—ã

## 2025-09-12

- –û–±—Å—É–¥–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
	1. –ü—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
	2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
	3. –ü—Ä–æ–≤–µ—Ä–∫–∞ ORM

